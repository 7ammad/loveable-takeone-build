# ========================================
# Whapi.Cloud Webhook Configuration
# ========================================

# Your Whapi.Cloud API credentials (existing)
WHAPI_CLOUD_URL=https://gate.whapi.cloud
WHAPI_CLOUD_TOKEN=your-whapi-token-here

# ========================================
# NEW: Webhook Configuration
# ========================================

# Your production webhook URL
# Replace with your actual domain after deployment
# Format: https://your-domain.com/api/v1/webhooks/whapi
WHAPI_WEBHOOK_URL=https://your-domain.vercel.app/api/v1/webhooks/whapi

# Webhook secret for signature verification (REQUIRED for production)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Example: a1b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef123456
WHAPI_WEBHOOK_SECRET=

# Optional: Verify token for webhook validation
# Used by some webhook services for initial verification
WHAPI_WEBHOOK_VERIFY_TOKEN=

# ========================================
# Setup Instructions
# ========================================
# 
# 1. Generate webhook secret:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 2. Update WHAPI_WEBHOOK_URL with your production domain
#
# 3. Deploy your application
#
# 4. Configure webhook on Whapi.Cloud:
#    npx tsx scripts/configure-whapi-webhook.ts
#
# 5. Test by sending a message to your WhatsApp group
#
# 6. Monitor: https://your-domain.com/admin/validation-queue
#
# See WEBHOOK_SETUP_GUIDE.md for detailed instructions

